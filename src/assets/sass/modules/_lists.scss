/* Lists
   ========================================================================== */

/**
 * Address paddings set differently.
 */

menu,
ol,
ul {
    padding: 0 0 0 1.75em;
}

/**
 * Remove margins from nested lists.
 */

li {
    > ul,
    > ol {
        margin: 0;
    }
}

/**
 * Remove margins from first/last lists within table cells.
 */

th,
td {
    ul,
    ol {
        &:first-of-type {
            margin-top: 0;
        }

        &:last-of-type {
            margin-bottom: 0;
        }
    }
}

/**
 * CSS Lists and Counters Module Level 3 list marker styling.
 */

li::marker {
    color: $color-text-form;
}

@include dark-mode {
    li::marker {
        color: $dark-color-text-heading;
    }
}

/**
 * Style for definition lists.
 */

dl {
    padding-bottom: 1em;
    border-bottom: 1px solid $color-border-light;
}

@include dark-mode {
    dl {
        border-bottom-color: $dark-color-border-light;
    }
}

dt {
    margin-top: 1em;
    margin-bottom: 1em;
    padding-top: 1em;
    border-top: 1px solid $color-border-light;
    font-weight: bolder;

    code {
        border-color: $color-info-border;
        background-color: $color-info-background;
    }
}

@include dark-mode {
    dt {
        border-top-color: $dark-color-border-light;
        color: $dark-color-text-heading;

        code {
            border-color: $dark-color-info-border;
            background-color: $dark-color-info-background;
            color: $dark-color-text-heading;
        }
    }
}

dd {
    margin: 0 0 0 1.75em;
}

/**
 * Have a list with no bullets/numerals.
 *
 * Example HTML:
 *
 * <ul class="list--no-bullets">
 * <ol class="list--no-bullets">
 */

.list--no-bullets {
    padding: 0;
    list-style: none;
}

/**
 * Have a numbered `ul` without the semantics implied by using an `ol`.
 *
 * Example HTML:
 *
 * <ul class="list--numbered">
 */

.list--numbered {
    list-style-type: decimal;
}

/**
 * Have a 'file-tree'-style list (without any semantics implied).
 *
 * 1. Don't use ligatures on monospace font.
 *
 * Example HTML:
 *
 * <ul class="list--tree">
 * <ol class="list--tree">
 */

.list--tree,
.list--tree ol,
.list--tree ul {
    list-style: none;
}

.list--tree {
    ol,
    ul {
        position: relative;

        &::after {
            position: absolute;
            bottom: 0.75em;
            left: 0.5em;
            height: 100%;
            border-left: 1px solid $color-border-extra-dark;
            content: "";
        }
    }

    li {
        position: relative;

        &::after {
            position: absolute;
            top: 0;
            left: -1.25em;
            width: 0.75em;
            height: 0.75em;
            border-bottom: 1px solid $color-border-extra-dark;
            border-left: 1px solid $color-border-extra-dark;
            content: "";
        }
    }

    > li::after {
        display: none;
    }

    .directory::before,
    .directory--open::before,
    .document::before {
        display: inline-block;
        width: 16px;
        height: 16px;
        margin-bottom: -2px;
        padding-right: 0.5em;
        background-repeat: no-repeat;
        background-size: 16px 16px;
        text-indent: -9999px;
        content: "";
        overflow: hidden;
        vertical-align: baseline;
    }

    .directory::before {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cg fill='%23333'%3E%3Cpath d='M14 2h-1V1h-3L9 2H1v12h13V2zM2 3h11v10H2V3z'/%3E%3Cpath d='M2 4h11v1H2z'/%3E%3C/g%3E%3C/svg%3E");
    }

    .directory--open::before {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='%23333' d='M13 5V2h-1V1H9L8 2H0v12h13.5L16 5h-3zM1 3h11v2H3l-2 7V3zm11.5 10H2l2-7h10.5l-2 7z'/%3E%3C/svg%3E");
    }

    .document::before {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cg fill='%23333'%3E%3Cpath d='m10 15h-7v-14h10v11zm2-3v-10h-8v12h6z'/%3E%3Cpath d='m10 12v2h-1v-3h3v1z'/%3E%3C/g%3E%3C/svg%3E");
    }
}

@include dark-mode {
    .list--tree {
        ol::after,
        ul::after {
            border-color: $dark-color-border;
        }

        li::after {
            border-color:  $dark-color-border;
        }

        .directory::before,
        .directory--open::before,
        .document::before {
            filter: brightness(3) sepia(1) hue-rotate(168deg) saturate(33%);
        }
    }
}

/**
 * Have a compact definition list.
 *
 * Example HTML:
 *
 * <dl class="definitionlist--compact">
 */

.definitionlist--compact {
    dt {
        margin-bottom: 0;
    }

    dd {
        margin: 0;
    }
}

/**
 * Floated right buttons on list items.
 */

.button-list {
    float: right;
}
